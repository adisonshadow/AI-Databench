# 日期类型默认值设计

## 概述

重新设计了日期时间类型的默认值选项，使其更加精细和合理，根据不同数据库和具体日期类型提供相应的默认值选项。

## 设计原则

1. **类型精确性**：根据具体的日期时间类型提供相应的默认值选项
2. **数据库兼容性**：提供不同数据库的专用函数选项
3. **用户友好性**：提供清晰的描述说明每个选项的作用
4. **实用性**：提供最常用的默认值选项

## 默认值选项设计

### 1. DATE 类型（日期）
- **空值**：不设置默认值
- **当前日期**：`CURRENT_DATE` - 自动设置为当前日期 (YYYY-MM-DD)
- **CURDATE()**：MySQL函数，获取当前日期
- **GETDATE()**：SQL Server函数，获取当前日期
- **SYSDATE**：Oracle函数，获取当前日期

### 2. TIME 类型（时间）
- **空值**：不设置默认值
- **当前时间**：`CURRENT_TIME` - 自动设置为当前时间 (HH:MM:SS)
- **CURTIME()**：MySQL函数，获取当前时间
- **GETDATE()**：SQL Server函数，获取当前时间
- **SYSDATE**：Oracle函数，获取当前时间

### 3. DATETIME 类型（日期时间）
- **空值**：不设置默认值
- **当前时间戳**：`CURRENT_TIMESTAMP` - 自动设置为当前日期时间 (YYYY-MM-DD HH:MM:SS)
- **NOW()**：MySQL函数，获取当前日期时间
- **GETDATE()**：SQL Server函数，获取当前日期时间
- **SYSDATE**：Oracle函数，获取当前日期时间
- **CURRENT_TIMESTAMP()**：MySQL函数，获取当前时间戳

### 4. TIMESTAMP 类型（时间戳）
- **空值**：不设置默认值
- **当前时间戳**：`CURRENT_TIMESTAMP` - 自动设置为当前日期时间 (YYYY-MM-DD HH:MM:SS)
- **NOW()**：MySQL函数，获取当前日期时间
- **GETDATE()**：SQL Server函数，获取当前日期时间
- **SYSDATE**：Oracle函数，获取当前日期时间
- **CURRENT_TIMESTAMP()**：MySQL函数，获取当前时间戳

## 技术实现

### 函数设计
```typescript
// 根据具体日期时间类型获取默认值选项
export function getDateTimeDefaultValueOptionsByType(type: FieldType): DefaultValueOption[] {
  switch (type) {
    case FieldType.DATE:
      return [/* DATE类型选项 */];
    case FieldType.TIME:
      return [/* TIME类型选项 */];
    case FieldType.DATETIME:
    case FieldType.TIMESTAMP:
      return [/* DATETIME/TIMESTAMP类型选项 */];
    default:
      return getDateTimeDefaultValueOptions();
  }
}
```

### 选项结构
```typescript
interface DefaultValueOption {
  value: string;        // 实际值
  label: string;        // 显示标签
  description?: string;  // 描述说明
}
```

## 优势

### 1. **精确性**
- 每种日期时间类型都有对应的默认值选项
- 避免了不合适的默认值选择

### 2. **兼容性**
- 支持多种数据库的专用函数
- 提供标准SQL函数选项

### 3. **用户友好**
- 清晰的标签和描述
- 直观的选项分类

### 4. **实用性**
- 涵盖最常用的默认值场景
- 支持自定义输入

## 使用示例

### 创建用户表
```sql
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(50),
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,  -- 创建时间
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,  -- 更新时间
  last_login DATE DEFAULT CURRENT_DATE,  -- 最后登录日期
  login_time TIME DEFAULT CURRENT_TIME   -- 登录时间
);
```

### 字段配置示例
- **创建时间字段**：选择 `CURRENT_TIMESTAMP` 或 `NOW()`
- **更新时间字段**：选择 `CURRENT_TIMESTAMP` 或 `NOW()`
- **最后登录日期**：选择 `CURRENT_DATE` 或 `CURDATE()`
- **登录时间**：选择 `CURRENT_TIME` 或 `CURTIME()`

## 总结

新的日期类型默认值设计更加精细和合理，能够满足不同场景下的需求，提供更好的用户体验和更准确的配置选项。
